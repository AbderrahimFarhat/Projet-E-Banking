<div class="row">
    <app-nav-bar></app-nav-bar>
</div>
<div class="container-fluid">
    <div class="row d-flex align-items-center border p-2 m-4 bg-light border-radius">
        <div class="col-6 ">
            <div class="card-body">
                <div class="d-flex flex-column align-items-center text-center">
                    <img src="https://bootdey.com/img/Content/avatar/avatar7.png" class="rounded-circle" width="150">
                    <div class="mt-3">
                        <h4>{{client.lastName}} {{client.firstName}}</h4>
                        <p class="text-secondary mb-1">{{client.phone}}</p>
                        <p class="text-secondary mb-1">{{client.address}}</p>
                        <p class="text-secondary mb-1">{{client.email}}</p>
                        <div class="btn-group">
                            <button type="button" class="btn btn-outline-primary"
                                routerLink="../payment/facture">Creditor</button>
                            <button type="button" class="btn btn-outline-primary"
                                routerLink="../payment/donation">Donation</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-6">
            <div class="card shadow">
                <div class="top-row">
                    <div class="visa">
                        <h4>VISA</h4>
                    </div>
                </div>
                <div class="d-flex justify-content-center text-center m-4">
                    <h2>{{client.balance}}.00</h2>
                    <p style="padding-left: 10px;">MAD</p>
                </div>
                <div class="bottom-row">
                    <div class="dots">
                        <span></span>
                        <span></span>
                        <span></span>
                        <span></span>
                    </div>
                    <span class="number">{{client.id}}</span>
                </div>
            </div>
        </div>
    </div>
    <div class="row m-auto " style="width:75%;">
        <form [formGroup]="filterForm">
            <div class="row d-flex justify-center">
                <h1 class="col text-light">Previous bills</h1>
                <select class="form-select col" style="height: 50px;" formControlName="filter" (change)="onChange($event)">
                    <option value="" disabled selected hidden>All</option>
                    <option value="all">All</option>
                    <option value="Creditor">Creditor</option>
                    <option value="Charity">Donation</option>
                </select>
            </div>
        </form>
        <ul class="list-group p-2">
            <div *ngFor="let bill of historicBillTemp">
            <div class="list-group-item list-group-item-action d-flex gap-3 py-3" (click)="showBill(bill)">
                <img [src]="bill.creditor?.logo" width="70" height="40" class="rounded-circle flex-shrink-0">
                <div class="d-flex gap-2 w-100 justify-content-between">
                  <div>
                    <h6 class="mb-0">Title : {{bill.creditor?.description}}</h6>
                    <p class="mb-0 opacity-75">Montant : {{bill.totalAmount}}.00 DH</p>
                  </div>
                </div>
            </div>
            </div>
        </ul>
    </div>
</div>
<div class="row">
    <app-footer></app-footer>
</div>